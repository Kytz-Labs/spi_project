---
import HeaderLink from './HeaderLink.astro';
import TransBtn from "./button/TransBtn.astro";

const menuList = [
		{ name : "Home", url : "/", ariaLabel: "home page" },
		{ name : "Services", url : "https://spi-project.pages.dev/services", ariaLabel : "services page"}, 
		{ name : "Public Sector", url : "public-sector", ariaLabel : "public sector page"},
		{ name : "Products", url : "https://spi-project.pages.dev/products", ariaLabel : "products"},
		{ name : "About", url : "#", ariaLabel : "about us" },
		{ name : "Careers", url : "#", ariaLabel : "careers" } 
];
---

<nav class="lg:px-12 px-8 flex flex-row items-center justify-between bg-white z-[50] relative border border-b-[1.5px]">
	<div class="flex-1 flex items-center ">
		<div class="pr-5">
			<a href="/">
				<img src="/logos/spi.webp" width="96px" height="42.98px" />
			</a>
		</div>
		<div class="internal-links ps-5 lg:block hidden">
			{
				menuList.map((data, index) => (
					<div class={ (index == 0) ? "inline-block px-4 border-s-2 leading-[10px]" : "inline-block px-4 leading-[10px]" }><HeaderLink href={data.url} aria-label={data.ariaLabel}>{data.name}</HeaderLink></div>
				))
			}
			<!-- <div class="inline-block px-4 border-s-2 leading-[10px]"><HeaderLink href={menuList[0]["url"]} aria-label={menuList[0]["ariaLabel"]}>{menuList[0]["name"]}</HeaderLink></div>
			<div class="inline-block px-4 leading-[10px]"><HeaderLink href={menuList[1]["url"]} aria-label={menuList[1]["ariaLabel"]}>{menuList[1]["name"]}</HeaderLink></div>
			<div class="inline-block px-4 leading-[10px]"><HeaderLink href={menuList[2]["url"]} aria-label={menuList[2]["ariaLabel"]}>{menuList[2]["name"]}</HeaderLink></div>
			<div class="inline-block px-4 leading-[10px]"><HeaderLink href={menuList[3]["url"]} aria-label={menuList[3]["ariaLabel"]}>{menuList[3]["name"]}</HeaderLink></div>
			<div class="inline-block px-4 leading-[10px]"><HeaderLink href={menuList[4]["url"]} aria-label={menuList[4]["ariaLabel"]}>{menuList[4]["name"]}</HeaderLink></div>
			<div class="inline-block px-4 leading-[10px]"><HeaderLink href={menuList[5]["url"]} aria-label={menuList[5]["ariaLabel"]}>{menuList[5]["name"]}</HeaderLink></div> -->
		</div>
	</div>
	<div class="social-links lg:block hidden">
        <a class="pr-6 border-r-2" href="#"><img src="/logos/women_owned.webp" height="26.19" width="62.38" alt="women owned logo"/></a>
        <a class="px-6" href="#"><img src="/logos/mbe.webp" height="44.6" width="48.15" alt="women owned logo"/></a>
		<a href="contact-us"><TransBtn text="Contact Us" /></a>
	</div>
	<div class="flex-1 h-full md:hidden block">
		<label for="sideopen_D" class="flex items-end items-center justify-end text-white flex  w-full text-2xl float-end">
			<img  width="30" height="30" src="/menu.png" alt="menu icon" />
		</label>
		<input type="checkbox" id="sideopen_D" />
		<div class="sidebox_D" id="sidebar_D">
			<div class="sidebar_dropdown">
				{menuList.map((data, index) => (
					<div class={(index == 0) ? "inline-block px-4 border-s-2 leading-[10px]" : "inline-block px-4 leading-[10px]"}>
					  <HeaderLink 
						href={data.url} 
						aria-label={data.ariaLabel} 
						class={Astro.url.pathname === data.url ? "active" : ""}
					  >
						{data.name}
					  </HeaderLink>
					</div>
				  ))}
			</div>
		</div>
	</div>
</nav>
<style>
	a {
		font-family: Instrument Sans;
		font-size: 16px;
		font-weight: 500;
		line-height: 19.52px;
		text-align: left;
		text-underline-position: from-font;
		text-decoration-skip-ink: none;
		color: #444444;
	}
	a.active {
		font-weight: bolder;
		color: #006B9E;
	}
	.social-links,
	.social-links a {
		display: flex;
        align-items:center;
	}
	/* navbar */
    #sideopen_D{
        position:absolute;
        visibility: hidden;
        cursor: pointer;
    }
    .sidebox_D{
        display: none;
        position:static;
        transition: all 2s ease-in-out;
        z-index:1;
    }
    #sideopen_D:checked ~ .sidebox_D{
        display: block;
        position: absolute;
        left:0;
        top: 100px;
        width:100%;
    }
    .sidebar_dropdown{
        padding: 1rem;
        border-radius: 10px;
        background-color: black;
        margin: 1rem;
        box-shadow: 1px 1px 5px gray;
        background-color:white;
    }
    .mblist{
        padding: 1rem;
    }
    .mblist:hover{
        border-bottom: 1px solid #0DC195;
    }
	@media (max-width: 600px) {
		.social-links {
			display: none;
		}
		h1{
			font-size: 36px;
			line-height: 50px;
		}
		.site-title-layer::after {
			right:-122.5%;
		}
	}
</style>
<script client:visible>
	window.onscroll = () => {
		
		// nav menu functionality
		console.log("navigation");
		var nav = document.querySelector("nav");
		if(window.scrollY > 600){
			console.log("working");
				nav.style.width="100%";
				nav.style.left=0;
				nav.style.position="fixed";
				nav.style.zIndex="100";
				nav.style.left=0;
		}
		if(window.scrollY < 500){
			if(window.innerWidth > 600) {
					nav.style.width="100%";
					nav.style.position="static";
					nav.style.zIndex="0";
			}else {
					nav.style.width="100%";
					nav.style.position="static";
					nav.style.zIndex="0"; 
			}
		}
	}
</script>
